#ifndef RH850F1L_EXT_H
#define RH850F1L_EXT_H
#include "rh850f1l.h"

#define ICP_0   ICP0
#define ICP_0L  ICP0L
#define ICP_0H  ICP0H
#define P0P_0   P0P0
#define P1P_0   P1P0
#define P2P_0   P2P0
#define TBP_0   TBP0
#define MKP_0   MKP0
#define RFP_0   RFP0
#define CTP_0   CTP0

#define ICP_1   ICP1
#define ICP_1L  ICP1L
#define ICP_1H  ICP1H
#define P0P_1   P0P1
#define P1P_1   P1P1
#define P2P_1   P2P1
#define TBP_1   TBP1
#define MKP_1   MKP1
#define RFP_1   RFP1
#define CTP_1   CTP1

#define ICP_2   ICP2
#define ICP_2L  ICP2L
#define ICP_2H  ICP2H
#define P0P_2   P0P2
#define P1P_2   P1P2
#define P2P_2   P2P2
#define TBP_2   TBP2
#define MKP_2   MKP2
#define RFP_2   RFP2
#define CTP_2   CTP2

#define ICP_3   ICP3
#define ICP_3L  ICP3L
#define ICP_3H  ICP3H
#define P0P_3   P0P3
#define P1P_3   P1P3
#define P2P_3   P2P3
#define TBP_3   TBP3
#define MKP_3   MKP3
#define RFP_3   RFP3
#define CTP_3   CTP3

#define ICP_4   ICP4
#define ICP_4L  ICP4L
#define ICP_4H  ICP4H
#define P0P_4   P0P4
#define P1P_4   P1P4
#define P2P_4   P2P4
#define TBP_4   TBP4
#define MKP_4   MKP4
#define RFP_4   RFP4
#define CTP_4   CTP4

#define ICP_5   ICP5
#define ICP_5L  ICP5L
#define ICP_5H  ICP5H
#define P0P_5   P0P5
#define P1P_5   P1P5
#define P2P_5   P2P5
#define TBP_5   TBP5
#define MKP_5   MKP5
#define RFP_5   RFP5
#define CTP_5   CTP5

#define ICP_6   ICP6
#define ICP_6L  ICP6L
#define ICP_6H  ICP6H
#define P0P_6   P0P6
#define P1P_6   P1P6
#define P2P_6   P2P6
#define TBP_6   TBP6
#define MKP_6   MKP6
#define RFP_6   RFP6
#define CTP_6   CTP6

#define ICP_7   ICP7
#define ICP_7L  ICP7L
#define ICP_7H  ICP7H
#define P0P_7   P0P7
#define P1P_7   P1P7
#define P2P_7   P2P7
#define TBP_7   TBP7
#define MKP_7   MKP7
#define RFP_7   RFP7
#define CTP_7   CTP7

#define ICP_8   ICP8
#define ICP_8L  ICP8L
#define ICP_8H  ICP8H
#define P0P_8   P0P8
#define P1P_8   P1P8
#define P2P_8   P2P8
#define TBP_8   TBP8
#define MKP_8   MKP8
#define RFP_8   RFP8
#define CTP_8   CTP8

#define ICP_9   ICP9
#define ICP_9L  ICP9L
#define ICP_9H  ICP9H
#define P0P_9   P0P9
#define P1P_9   P1P9
#define P2P_9   P2P9
#define TBP_9   TBP9
#define MKP_9   MKP9
#define RFP_9   RFP9
#define CTP_9   CTP9

#define ICP_10  ICP10
#define ICP_10L ICP10L
#define ICP_10H ICP10H
#define P0P_10  P0P10
#define P1P_10  P1P10
#define P2P_10  P2P10
#define TBP_10  TBP10
#define MKP_10  MKP10
#define RFP_10  RFP10
#define CTP_10  CTP10

#define ICP_11  ICP11
#define ICP_11L ICP11L
#define ICP_11H ICP11H
#define P0P_11  P0P11
#define P1P_11  P1P11
#define P2P_11  P2P11
#define TBP_11  TBP11
#define MKP_11  MKP11
#define RFP_11  RFP11
#define CTP_11  CTP11

#define ICP_12  ICP12
#define ICP_12L ICP12L
#define ICP_12H ICP12H
#define P0P_12  P0P12
#define P1P_12  P1P12
#define P2P_12  P2P12
#define TBP_12  TBP12
#define MKP_12  MKP12
#define RFP_12  RFP12
#define CTP_12  CTP12

#define ICP_13  ICP13
#define ICP_13L ICP13L
#define ICP_13H ICP13H
#define P0P_13  P0P13
#define P1P_13  P1P13
#define P2P_13  P2P13
#define TBP_13  TBP13
#define MKP_13  MKP13
#define RFP_13  RFP13
#define CTP_13  CTP13

#define ICP_14  ICP14
#define ICP_14L ICP14L
#define ICP_14H ICP14H
#define P0P_14  P0P14
#define P1P_14  P1P14
#define P2P_14  P2P14
#define TBP_14  TBP14
#define MKP_14  MKP14
#define RFP_14  RFP14
#define CTP_14  CTP14

#define ICP_15  ICP15
#define ICP_15L ICP15L
#define ICP_15H ICP15H
#define P0P_15  P0P15
#define P1P_15  P1P15
#define P2P_15  P2P15
#define TBP_15  TBP15
#define MKP_15  MKP15
#define RFP_15  RFP15
#define CTP_15  CTP15


#define EDGE_DETECTION          ((uint8_t)0x01)
#define LEVEL_DETECTION         ((uint8_t)(0x01 << 1))
#define FALL_EDGE_ENABLE        ((uint8_t)(0x01 << 2))
#define FALL_EDGE_DISABLE       ((uint8_t)(0x01 << 3))
#define RISE_EDGE_ENABLE        ((uint8_t)(0x01 << 4))
#define RISE_EDGE_DISABLE       ((uint8_t)(0x01 << 5))
#define LOW_LEVEL_DETECT        ((uint8_t)(0x01 << 6))
#define HIGH_LEVEL_DETECT       ((uint8_t)(0x01 << 7))

/** @defgroup int_select
  * @{
SELB_INTC1 — INTC1 Interrupt Select Register
When two interrupt sources are assigned to one interrupt channel, this register
selects which interrupt sources is enabled*/
#define EIINT_CH7_SELECT_MASK    ((uint16_t)(0x01 << 11))
#define EIINT_CH153_SELECT_MASK  EIINT_CH7_SELECT_MASK
#define EIINT_CH6_SELECT_MASK    ((uint16_t)(0x01 << 10))
#define EIINT_CH152_SELECT_MASK  EIINT_CH6_SELECT_MASK
#define EIINT_CH5_SELECT_MASK    ((uint16_t)(0x01 << 9))
#define EIINT_CH151_SELECT_MASK  EIINT_CH5_SELECT_MASK
#define EIINT_CH1_SELECT_MASK    ((uint16_t)(0x01 << 8))
#define EIINT_CH150_SELECT_MASK  EIINT_CH1_SELECT_MASK
#define EIINT_CH31_SELECT_MASK   ((uint16_t)(0x01 << 7))
#define EIINT_CH127_SELECT_MASK  EIINT_CH31_SELECT_MASK
#define EIINT_CH30_SELECT_MASK   ((uint16_t)(0x01 << 6))
#define EIINT_CH126_SELECT_MASK  EIINT_CH30_SELECT_MASK
#define EIINT_CH29_SELECT_MASK   ((uint16_t)(0x01 << 5))
#define EIINT_CH125_SELECT_MASK  EIINT_CH29_SELECT_MASK
#define EIINT_CH0_SELECT_MASK    ((uint16_t)(0x01 << 4))
#define EIINT_CH124_SELECT_MASK  EIINT_CH0_SELECT_MASK
#define EIINT_CH20_SELECT_MASK   ((uint16_t)(0x01 << 3))
#define EIINT_CH111_SELECT_MASK  EIINT_CH20_SELECT_MASK
#define EIINT_CH19_SELECT_MASK   ((uint16_t)(0x01 << 2))
#define EIINT_CH110_SELECT_MASK  EIINT_CH19_SELECT_MASK
#define EIINT_CH9_SELECT_MASK    ((uint16_t)(0x01 << 1))
#define EIINT_CH109_SELECT_MASK  EIINT_CH9_SELECT_MASK
#define EIINT_CH8_SELECT_MASK    ((uint16_t)0x01)
#define EIINT_CH108_SELECT_MASK  EIINT_CH8_SELECT_MASK

/*SELB_INTC2 — INTC2 Interrupt Select Register
When two interrupt sources are assigned to one interrupt channel, this register
selects which interrupt sources is enabled*/
#define EIINT_CH149_SELECT_MASK ((uint16_t)(0x01 << 10))
#define EIINT_CH147_SELECT_MASK ((uint16_t)(0x01 << 9))
#define EIINT_CH145_SELECT_MASK ((uint16_t)(0x01 << 8))
#define EIINT_CH143_SELECT_MASK ((uint16_t)(0x01 << 7))
#define EIINT_CH141_SELECT_MASK ((uint16_t)(0x01 << 6))
#define EIINT_CH139_SELECT_MASK ((uint16_t)(0x01 << 5))
#define EIINT_CH137_SELECT_MASK ((uint16_t)(0x01 << 4))
#define EIINT_CH80_SELECT_MASK  ((uint16_t)(0x01 << 3))
#define EIINT_CH79_SELECT_MASK  ((uint16_t)(0x01 << 2))
#define EIINT_CH78_SELECT_MASK  ((uint16_t)(0x01 << 1))
#define EIINT_CH77_SELECT_MASK  ((uint16_t)0x01)
/**
  * @}
  */

typedef enum{
    P_0,P_1,P_2,P_3,P_4,P_5,P_6,P_7,P_8,P_9,P_10,
    P_11,P_12=123,P_13,P_14,P_15,
}Eiint_CH_NO_Type;

typedef enum{
    SELB_INTC1_REG,
    SELB_INTC2_REG,
} EIINT_SEL_Type;

typedef enum {
    EXT_NMI,
    EXT_INTP0,EXT_INTP1,EXT_INTP2,EXT_INTP3,EXT_INTP4,EXT_INTP5,
    EXT_INTP6,EXT_INTP7,EXT_INTP8,EXT_INTP9,EXT_INTP10,EXT_INTP11,
    EXT_INTP12,EXT_INTP13,EXT_INTP14,EXT_INTP15,
}INPUT_SIGNAL_Type;

typedef enum{
    INT_PROCESS_DISALE = 1,
    INT_PROCESS_ENABLE = !INT_PROCESS_DISALE,
}EIINT_PROCESS_Type;

typedef enum{
    DIRECT_VECTOR_METHOD,//direct vector method
    TABLE_REFER_METHOD = !DIRECT_VECTOR_METHOD ,//Table reference method
}EIINT_REFER_METHOD_Type;

typedef enum{
    INT_PRIORITY_0,//highest
    INT_PRIORITY_1,
    INT_PRIORITY_2,
    INT_PRIORITY_3,
    INT_PRIORITY_4,
    INT_PRIORITY_5,
    INT_PRIORITY_6,
    INT_PRIORITY_7,//lowest
}EIINT_PRIORITY_Type;

typedef uint16_t Eiint_RequestTypeDef;
typedef uint8_t Eiint_DetectionTypeDef;

typedef struct{
    uint16_t eiint_ch;
    uint16_t selb_mask; /*!< Specifies which interrupt sources is enabled when two
                        interrupt sources are assigned to one interrupt channel.
                        This parameter can be a value or the combination of @ref int_select */
    uint16_t selb_val; /*This parameter can be a value or the combination of @ref int_select,
                        include 0*/
    uint8_t  eiint_ext_int;//if it's external interruption,please set this bit
    EIINT_PROCESS_Type eiint_process;
    EIINT_REFER_METHOD_Type eiint_refer_method;
    EIINT_PRIORITY_Type eiint_priority;
    Eiint_DetectionTypeDef eiint_detect;
}Eiint_InitTypeDef;

void Eiit_Init();
void Eiit_Filter_Ctl_Operate(INPUT_SIGNAL_Type in_sig, OperateDirection opt_dir, uint8_t *trig_io);
bool Eiit_Int_Req_Made(uint16_t eiint_ch);
void Eiit_Clear_Int_Req(uint16_t eiint_ch);

#endif //RH850F1L_EXT_H
